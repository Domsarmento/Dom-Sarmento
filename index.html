<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dom Sarmento Barbearia</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --text:#ffffff; --muted:#e8e8e8;
  --gold-1:#f9eebe; --gold-2:#e9c97f; --gold-3:#cfa156; --gold-4:#8c652f;
  --steel-top:#3b3b3b; --steel-mid:#262626; --steel-bot:#141414;
  --tagline:#e3c676; --ring:rgba(255,255,255,.08);
  --ciano:#69dfd6; --roxo:#b7a3ff;
}

/* ===== Base & BG ===== */
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; color:var(--text);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  position:relative; overflow-x:hidden; background:#0b0b0b;
}
body::before{ content:""; position:fixed; inset:0;
  background:url('background-dom-sarmento.jpg') center/cover no-repeat; z-index:0; }
body::after{ content:""; position:fixed; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.40), rgba(0,0,0,.65) 50%, rgba(0,0,0,.85)); z-index:0; }
.page{position:relative; z-index:1; max-width:520px; margin:0 auto; padding:18px 14px 56px}

/* ===== Header ===== */
.header{text-align:center; margin:0 0 6px}
.logo{
  width:clamp(300px, 72vw, 400px);
  display:block; margin:0 auto 6px;
  filter:drop-shadow(0 12px 22px rgba(0,0,0,.40));
  mix-blend-mode:multiply;
}
.tagline{
  color:var(--tagline); font-weight:800; letter-spacing:.06em; text-transform:uppercase;
  font-size:clamp(18px,4.4vw,22px);
  margin:4px auto 10px; /* +pr√≥xima da logo e do 1¬∫ bot√£o */
}

/* ===== Cards (tamanhos otimizados p/ mobile) ===== */
.stack{display:flex; flex-direction:column; gap:14px; margin:8px 0 28px}
.btn{
  position:relative; overflow:hidden; display:flex; align-items:center; gap:14px;
  padding:16px; min-height:92px; border-radius:24px; text-decoration:none; color:var(--text);
}
.btn::before{ content:""; position:absolute; inset:0; border-radius:26px; padding:2px;
  background:linear-gradient(180deg, var(--gold-1) 0%, var(--gold-2) 40%, var(--gold-3) 75%, var(--gold-4) 100%);
  -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude;
  box-shadow:0 0 22px rgba(255,215,130,.22), 0 14px 30px rgba(0,0,0,.45); pointer-events:none;
}
.btn--gold{
  background:
    radial-gradient(160% 220% at 0% -40%, rgba(255,255,255,.70), transparent 45%),
    linear-gradient(180deg, var(--gold-1) 0%, var(--gold-2) 45%, var(--gold-3) 70%, var(--gold-4) 100%);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.38), 0 18px 36px rgba(255,214,120,.28);
}
.btn--gold::after{ content:""; position:absolute; left:12px; right:12px; top:28%;
  height:18%; border-radius:20px;
  background:linear-gradient(180deg, rgba(255,255,255,.35), rgba(255,255,255,0)); filter:blur(1px); }
.btn--dark{
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0) 24%) top/100% 50% no-repeat,
    linear-gradient(0deg, rgba(255,255,255,.05), rgba(255,255,255,0) 28%) bottom/100% 55% no-repeat,
    linear-gradient(180deg, var(--steel-top) 0%, var(--steel-mid) 55%, var(--steel-bot) 100%);
}
.icon{
  width:50px; height:50px; object-fit:contain; flex:0 0 50px; display:block;
  filter: drop-shadow(0 2px 0 rgba(0,0,0,.15)) drop-shadow(0 6px 10px rgba(0,0,0,.35));
}
.btn--gold .icon{ filter: drop-shadow(0 2px 0 rgba(0,0,0,.10)) drop-shadow(0 6px 10px rgba(0,0,0,.28)); }
.title{
  font-weight:800; text-transform:uppercase; letter-spacing:.01em; line-height:1.1;
  font-size:clamp(18px,4.2vw,22px);
}
.sub{ font-size:clamp(13px,3.5vw,15px); color:var(--muted); margin-top:6px }
.btn--gold .title{ color:#121212 } .btn--gold .sub{ color:#1f1f1f; opacity:.86 }

/* PIX chip */
.chip{
  flex:0 0 auto; border:0; cursor:pointer; padding:10px 12px; border-radius:14px;
  background:var(--ciano); color:#083033; font-weight:800; font-size:13px; line-height:1.1;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.55);
  white-space:nowrap; max-width:46%; text-align:center;
}

/* ===== V√çDEO ===== */
.section{ margin:18px auto 10px }
.block{ margin:8px 0 18px; padding:14px; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border-radius:18px; box-shadow:inset 0 0 0 1px var(--ring), 0 8px 40px rgba(0,0,0,.45); }
.video-shell{ border-radius:18px; overflow:hidden; background:#000; }
video{ width:100%; height:auto; aspect-ratio:9/16; display:block }

/* ===== Slogan ===== */
.footer{text-align:center; margin-top:8px}
.footer .slogan{ color:var(--tagline); font-weight:800; letter-spacing:.06em; text-transform:uppercase }

/* ===== CARROSSEL / GALERIA ===== */
.gallery-title{ margin:0 0 10px; font-weight:800; font-size:clamp(18px,4vw,22px); letter-spacing:.02em; }
.carousel{ position:relative }
.car-viewport{ overflow:hidden; border-radius:18px; background:#000;
  box-shadow:inset 0 0 0 1px var(--ring), 0 8px 40px rgba(0,0,0,.45); }
.car-track{ display:flex; transition:transform .45s ease; will-change:transform }
.car-slide{ flex:0 0 100% }
.car-slide img{ width:100%; height:auto; display:block; aspect-ratio:9/16; object-fit:cover; }
.car-arrow{ position:absolute; top:50%; transform:translateY(-50%);
  width:40px; height:40px; border-radius:10px; border:1px solid rgba(255,255,255,.4);
  background:rgba(0,0,0,.35); color:#fff; font-size:22px; line-height:38px; text-align:center;
  cursor:pointer; user-select:none; backdrop-filter:blur(4px); }
.car-arrow:hover{ background:rgba(0,0,0,.55) } .car-arrow:active{ transform:translateY(-50%) scale(.98) }
.car-arrow.prev{ left:8px } .car-arrow.next{ right:8px }

/* ===== MODAL WIFI (layout refinado) ===== */
.modal{ position:fixed; inset:0; background:rgba(0,0,0,.78); display:none; place-items:center; z-index:60; padding:16px }
.modal.open{ display:grid }
.modal-card{
  width:min(520px, 96vw);
  background:linear-gradient(180deg,#101010,#0f0f0f);
  border-radius:18px; box-shadow:0 20px 60px rgba(0,0,0,.6), inset 0 0 0 1px var(--ring); color:#fff;
  overflow:hidden;
}
.modal-head{ display:flex; justify-content:space-between; align-items:center; padding:14px 16px; border-bottom:1px solid rgba(255,255,255,.08) }
.modal-head h3{ margin:0; font-size:18px; letter-spacing:.02em }
.modal-close{ background:rgba(255,255,255,.1); border:1px solid rgba(255,255,255,.2); color:#fff; border-radius:10px; padding:8px 10px; cursor:pointer }
.modal-body{ padding:18px; text-align:center }
.qr-title{ margin:0 auto 10px; width:fit-content; padding:8px 14px; border-radius:12px; font-weight:800;
  background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); }
.qr-wrap{ display:inline-block; background:#0b0b0b; padding:12px; border-radius:16px; box-shadow:inset 0 0 0 1px var(--ring); }
.qr-wrap img, .qr-wrap canvas{ width:min(360px,80vw); height:auto; display:block; border-radius:12px }
.wifi-name{ margin:14px 0 16px; font-weight:800; font-size:16px }
.btn-row{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
.btn-wifi{ border:0; border-radius:12px; padding:11px 14px; color:#081a1b; font-weight:800; cursor:pointer; font-size:14px }
.btn-ssid{ background:var(--ciano) } .btn-pass{ background:var(--roxo); color:#1a123b } .btn-android{ background:#72e9e1 }
.helper{ margin-top:14px; color:#d7d7d7; font-size:13px; opacity:.9 }

/* pausa carrossel no hover (desktop) */
.carousel:hover{ --pause:1 }
</style>
</head>
<body>
  <main class="page">
    <header class="header">
      <img class="logo" src="logotipo-dom-sarmento.png" alt="Dom Sarmento">
      <div class="tagline">TRADI√á√ÉO E ESTILO EM CADA CORTE</div>
    </header>

    <section class="stack">
      <!-- Agendar -->
      <a class="btn btn--gold" href="https://sistema.appbarber.com.br/login.php" target="_blank" rel="noopener">
        <img class="icon" src="media/media:calendar.png" alt="Calend√°rio">
        <div>
          <div class="title">Agendar hor√°rio</div>
          <div class="sub">Reserve seu corte via Apberber</div>
        </div>
      </a>

      <!-- Wi-Fi (abre modal) -->
      <button class="btn btn--dark" id="btnWifi" type="button">
        <img class="icon" src="media/media:wifi.png" alt="Wi-Fi">
        <div>
          <div class="title">Conectar ao Wi-Fi</div>
          <div class="sub">Internet liberada para clientes</div>
        </div>
      </button>

      <!-- Avalia√ß√µes -->
      <a class="btn btn--dark" href="https://g.page/r/CWGiPPWDayclEAE/review" target="_blank" rel="noopener">
        <img class="icon" src="media/media:star.png" alt="Avalia√ß√µes no Google">
        <div>
          <div class="title">Avalia√ß√µes no Google</div>
          <div class="sub">Conte como foi sua experi√™ncia</div>
        </div>
      </a>

      <!-- Instagram -->
      <a class="btn btn--dark" href="https://www.instagram.com/domsarmento" target="_blank" rel="noopener">
        <img class="icon" src="media/media:instagram.png" alt="Instagram">
        <div>
          <div class="title">Instagram oficial</div>
          <div class="sub">@domsarmento</div>
        </div>
      </a>

      <!-- WhatsApp -->
      <a class="btn btn--dark" href="https://wa.me/5548999535888" target="_blank" rel="noopener">
        <img class="icon" src="media/media:whatsapp.png" alt="WhatsApp">
        <div>
          <div class="title">WhatsApp</div>
          <div class="sub">Fale direto com recep√ß√£o</div>
        </div>
      </a>

      <!-- PIX -->
      <div class="btn btn--dark">
        <img class="icon" src="media/media:pix.png" alt="Pix">
        <div style="flex:1; min-width:0">
          <div class="title">Pagamento via Pix</div>
          <div class="sub">@domsarmento</div>
        </div>
        <button class="chip" id="btnPix">COPIAR CHAVE<br>48991746304</button>
      </div>
    </section>

    <section class="footer">
      <div class="slogan">MAIS QUE CORTES, UMA EXPERI√äNCIA DOM SARMENTO üíà</div>
    </section>

    <!-- V√çDEO -->
    <section class="section block">
      <div class="video-shell">
        <video id="videoBarbearia"
               src="media/intro.mp4"
               autoplay
               muted
               loop
               playsinline
               controls
               preload="metadata"
               controlsList="nodownload noplaybackrate">
        </video>
      </div>
    </section>

    <!-- GALERIA -->
    <section class="section">
      <div class="gallery-title">Galeria</div>
      <div class="carousel" id="galeria">
        <button class="car-arrow prev" aria-label="Anterior">‚Äπ</button>
        <div class="car-viewport">
          <div class="car-track">
            <div class="car-slide"><img src="media/media:galeria1.jpg" alt="Galeria 1"></div>
            <div class="car-slide"><img src="media/media:galeria2.jpg" alt="Galeria 2"></div>
            <div class="car-slide"><img src="media/media:galeria3.jpg" alt="Galeria 3"></div>
            <div class="car-slide"><img src="media/media:galeria4.jpg" alt="Galeria 4"></div>
          </div>
        </div>
        <button class="car-arrow next" aria-label="Pr√≥ximo">‚Ä∫</button>
      </div>
    </section>
  </main>

  <!-- MODAL Wi-Fi -->
  <div class="modal" id="wifiModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <h3>Conectar ao Wi-Fi</h3>
        <button class="modal-close" id="wifiClose">Fechar ‚úï</button>
      </div>
      <div class="modal-body">
        <div class="qr-title">QR do Wi-Fi</div>
        <div class="qr-wrap"><img id="wifiQR" alt="QR do Wi-Fi" /></div>
        <div class="wifi-name" id="wifiName">Rede: ‚Äî</div>
        <div class="btn-row">
          <button class="btn-wifi btn-ssid" id="copySsid">Copiar SSID</button>
          <button class="btn-wifi btn-pass" id="copyPass">Copiar senha</button>
          <button class="btn-wifi btn-android" id="openWifi">Abrir Wi-Fi (Android)</button>
        </div>
        <div class="helper">Aponte a c√¢mera para o QR para conectar automaticamente. No iPhone, abra Ajustes &gt; Wi-Fi.</div>
      </div>
    </div>
  </div>

<script>
/* ===== Configura√ß√µes ===== */
const PIX_KEY = '48991746304';
const WIFI = {
  ssid: 'Lukanna Estamparia_5G',
  pass: 'estampariadigital.',
  type: 'WPA'
};

/* V√≠deo autoplay robusto (mobile) */
(function () {
  const v = document.getElementById('videoBarbearia');
  if (!v) return;
  const tryPlay = () => v.play().catch(()=>{});
  if (v.autoplay) {
    if (document.visibilityState === 'visible') tryPlay();
    document.addEventListener('visibilitychange', tryPlay, {passive:true});
    window.addEventListener('touchstart', tryPlay, {once:true, passive:true});
  }
})();

/* ===== PIX copy + share ===== */
document.getElementById('btnPix').addEventListener('click', async ()=>{
  try{ await navigator.clipboard.writeText(PIX_KEY); }catch(e){}
  if (navigator.share){
    try{ await navigator.share({title:'Chave PIX', text:`Chave PIX: ${PIX_KEY}`}); }
    catch(e){}
  } else {
    alert(`Chave PIX copiada!\n${PIX_KEY}`);
  }
});

/* ===== Helpers Wi-Fi ===== */
function buildWifiString(cfg){
  const esc = s => String(s).replace(/([\\;,:"])/g,'\\$1');
  return `WIFI:T:${cfg.type};S:${esc(cfg.ssid)};P:${esc(cfg.pass)};;`;
}
function setWifiQR(imgEl, payload){
  // 1¬™ tentativa: Google Charts
  const url1 = 'https://chart.googleapis.com/chart?cht=qr&chs=500x500&chl=' + encodeURIComponent(payload);
  // Fallback: qrserver
  const url2 = 'https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=' + encodeURIComponent(payload);
  imgEl.onerror = ()=>{ if (imgEl.dataset.tried!=='2'){ imgEl.dataset.tried='2'; imgEl.src=url2; } };
  imgEl.src = url1;
}

/* ===== Wi-Fi Modal ===== */
const wifiModal = document.getElementById('wifiModal');
const wifiQR    = document.getElementById('wifiQR');
const wifiName  = document.getElementById('wifiName');

function openWifiModal(){
  const payload = buildWifiString(WIFI);
  setWifiQR(wifiQR, payload);
  wifiName.textContent = 'Rede: ' + WIFI.ssid;
  wifiModal.classList.add('open');
  wifiModal.setAttribute('aria-hidden','false');
}
document.getElementById('btnWifi').addEventListener('click', openWifiModal);
document.getElementById('wifiClose').addEventListener('click', ()=>{
  wifiModal.classList.remove('open'); wifiModal.setAttribute('aria-hidden','true');
});
wifiModal.addEventListener('click', (e)=>{ if(e.target===wifiModal){ wifiModal.classList.remove('open'); wifiModal.setAttribute('aria-hidden','true'); } });

document.getElementById('copySsid').addEventListener('click', async ()=>{
  try{ await navigator.clipboard.writeText(WIFI.ssid); alert('SSID copiado!'); }catch(e){}
});
document.getElementById('copyPass').addEventListener('click', async ()=>{
  try{ await navigator.clipboard.writeText(WIFI.pass); alert('Senha copiada!'); }catch(e){}
});

/* Abrir tela de Wi-Fi no Android (tenta v√°rios formatos de intent) */
document.getElementById('openWifi').addEventListener('click', ()=>{
  const intents = [
    'intent:#Intent;action=android.settings.WIFI_SETTINGS;end',
    'intent://wifi/#Intent;scheme=android-app;package=com.android.settings;action=android.settings.WIFI_SETTINGS;end',
    'android.settings.WIFI_SETTINGS'
  ];
  let tried = 0;
  const tryNext = () => {
    if (tried >= intents.length){
      alert('Abra as Configura√ß√µes do sistema e toque em Wi-Fi para conectar.');
      return;
    }
    const i = intents[tried++];
    try{
      if (i.startsWith('intent:')){
        window.location.href = i;
      } else {
        window.open(i, '_self');
      }
      // se o browser bloquear, tenta o pr√≥ximo ap√≥s um pequeno delay
      setTimeout(()=>{ tryNext(); }, 350);
    }catch(e){ tryNext(); }
  };
  tryNext();
});

/* ===== Carrossel simples com autoplay + setas + swipe ===== */
(function initCarousel(rootId='galeria', intervalMs=4000){
  const root   = document.getElementById(rootId); if(!root) return;
  const track  = root.querySelector('.car-track');
  const slides = Array.from(root.querySelectorAll('.car-slide'));
  const prev   = root.querySelector('.prev');
  const next   = root.querySelector('.next');
  let index = 0, timer, paused = false;

  function go(i){ index = (i + slides.length) % slides.length; track.style.transform = `translateX(${-index*100}%)`; }
  function start(){ stop(); timer = setInterval(()=>{ if(!paused) go(index+1); }, intervalMs); }
  function stop(){ if(timer) clearInterval(timer); }

  prev.addEventListener('click', ()=>{ go(index-1); start(); });
  next.addEventListener('click', ()=>{ go(index+1); start(); });
  root.addEventListener('mouseenter', ()=> paused = true);
  root.addEventListener('mouseleave', ()=> paused = false);
  root.addEventListener('touchstart', ()=> paused = true, {passive:true});
  root.addEventListener('touchend', ()=> paused = false);

  let sx=0, dx=0;
  root.addEventListener('touchstart', e=>{ sx = e.touches[0].clientX; }, {passive:true});
  root.addEventListener('touchmove',  e=>{ dx = e.touches[0].clientX - sx; }, {passive:true});
  root.addEventListener('touchend',   ()=>{ if(Math.abs(dx) > 40){ dx<0 ? go(index+1) : go(index-1); start(); } sx=dx=0; });

  document.addEventListener('visibilitychange', ()=>{ if(document.visibilityState === 'hidden') stop(); else start(); });

  go(0); start();
})();
</script>
</body>
</html>
